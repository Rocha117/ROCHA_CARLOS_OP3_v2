#:import valorSP __main__.valorSP
#:import stockSP __main__.stockSP
#:import spinSP __main__.spinSP
MyScreenManager:
    df:""
    pais:" "
    codigo:" "
    hastaT:" "
    rangoT:True
    desdeT:" "
    Pantalla1Window:
        name:'pantalla1'
    Pantalla02:
        name:'pantalla02'
    Pantalla04:
        name:'pantalla04'
    Pantalla05:
        name:'pantalla05'
    Pantalla06:
        name:'pantalla06'
    Pantalla07:
        name:'pantalla07'
    Pantalla08:
        name:'pantalla08'
    Pantalla09:
        name:'pantalla09'
    Pantalla10:
        name:'pantalla10'
    Pantalla11:
        name:'pantalla11'
    Pantalla12:
        name:'pantalla12'


<Pantalla1Window>:
    Screen:
        name:'pantalla1'

        canvas:
            Color:
                rgba: [18/255, 11/255, 46/255 , 1]
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            id: LabelInicio
            text: '     Este programa realiza recomendaciones \n     de compra o venta de un valor según un \n     análisis técnico con los datos obtenidos de \n     Investing.com'
            font_name: 'Arial'
            font_size: 30 
            color: [1,1,1]
            background_normal: ''
            size_hint:(.25,.4)
            pos_hint: {'top':1, 'center_x':.5 }
            halign:'center'
        Button:
            id:InicioB1
            size_hint:(.05,.05)
            pos_hint:{'top':.45,'center_x':.2}
            on_release:root.next1()

        Button:
            id:InicioB3
            size_hint:(.05,.05)
            pos_hint:{'top':.25,'center_x':.2}
            on_release:root.next3()
        Label:
            id:InicioM1
            text:'Países'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.45,'center_x':.33}

        Label:
            id:InicioM3
            text:'Valores según países'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.25,'center_x':.45}

<Pantalla02>:
    Screen:
        name:'pantalla02'
    BoxLayout:
        orientation: 'vertical'

        FloatLayout:
            size_hint:1,.1
        BoxLayout:
            orientation:'vertical'
            spacing:20

            size_hint_x:.9
            pos_hint:{'center_x':.5}
            ScrollView:
                id: scroll
                ContenedorBotones:
                    
        FloatLayout:
            size_hint:1,.3
            Label:
                id:P2desea
                text:'¿Desea ver otra lista?'
                size_hint:.05,.05
                font_size:30

                pos_hint:{'top':.5,'center_x':.35}
            Button:
                id:P2Si
                text:'Sí'
                font_size:23
                size_hint:.1,.25
                pos_hint:{'top':.4,'center_x':.7}
                on_release:root.next1()
            Button:
                id:P2No
                text:'No'
                size_hint:.1,.25
                font_size:23
                pos_hint:{'top':.4,'center_x':.85}
                on_release:root.next2()

<ContenedorBotones>:
    id: contenedor
    size_hint_y:None
    orientation:'vertical'
    height: self.minimum_height

<Lab>:
    manager: None
    id_boton: ''
    text: self.id_boton
    font_size:18
    size_hint_y:None
    height: 100


<Pantalla04>:
    Screen:
        name:"pantalla04"
        BoxLayout:
            orientation:'vertical'
            
            FloatLayout:
                size_hint:1,.3
                Label:
                    id:P4de
                    text:'Escoje el país: '
                    size_hint:.05,.05
                    font_size:30

                    pos_hint:{'top':.5,'center_x':.35}
                Spinner: 
                    # Assigning id  
                    id: spinner_id 
            
                    # Callback  
                    
                    on_text:root.pasear(spinner_id.text)
                    # initially text on spinner 
                    text: "País"
            
                    # total values on spinner 
                    values: valorSP

                    # declaring size of the spinner 
                    # and the position of it 
                    size_hint: None, None
                    size: 200, 50
                    pos_hint:{'center_x':.8, 'top': .9} 
            BoxLayout:
                orientation:'vertical'
                size_hint_x:.9
                pos_hint:{'center_x':.5}
                Label:
                    text:'País          Número              Nombre  Completo              isin                 Moneda                Símbolo'
                    size_hint_y:None
                    font_size:18
                    height: 50
                ScrollView:
                    ContenedorBotones04:
                        id:contenedor
            FloatLayout:
                size_hint:1,.25
                Label:
                    id:P2desea
                    text:'¿Desea ver otra lista?'
                    size_hint:.05,.05
                    font_size:30

                    pos_hint:{'top':.5,'center_x':.35}
                Button:
                    id:P2Si
                    text:'Sí'
                    font_size:23
                    size_hint:.1,.25
                    pos_hint:{'top':.4,'center_x':.7}
                    on_release:root.next1()
                Button:
                    id:P2No
                    text:'No'
                    size_hint:.1,.25
                    font_size:23
                    pos_hint:{'top':.4,'center_x':.85}
                    on_release:root.next2()

<ContenedorBotones04>:
    manager:None
    id: contenedor
    size_hint_y:None
    orientation:'vertical'
    height: self.minimum_height

<Lab04>:
    manager: None
    id_boton: ''
    text: self.id_boton
    size_hint_y:None
    height: 100

<Pantalla05>:
    Screen:
        name:"pantalla05"
        Label:
            id:P5texto
            text:'Elija si desea realizar un análisis técnico \n de un valor en el mercado de valores'
            font_size:30
            size_hint:.4,.1
            pos_hint:{'top':.85,'center_x':.5}
        Button:
            id:P5button1
            size_hint:(.05,.05)
            pos_hint:{'top':.55,'center_x':.2}
            on_release:root.next1()
        Button:
            id:P5button2
            size_hint:(.05,.05)
            pos_hint:{'top':.35,'center_x':.2}
            on_release:root.next2()
        Label:
            id:P5Label1
            text:'Analizar'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.55,'center_x':.33}
        Label:
            id:InicioM2
            text:'SALIR'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.35,'center_x':.34}


<Pantalla06>:
    Screen:
        name:"pantalla06"
        FloatLayout:
    
        Label:
            id:P6Label1
            text:'Ingresa país: '
            font_size:30
            size_hint:.2,.1
            pos_hint:{'top':.9,'center_x':.2}
        Spinner: 
            id: spinner_id 
            on_text:root.pasear(spinner_id.text),root.cambiar(spinner_id.text)
            text: "País"
            values: valorSP
            size_hint: None, None
            size: 180, 50
            pos_hint:{'center_x':.8, 'top': .9} 
        
        Label:
            id:P6Label2
            text:'Ingresa código del valor: '
            font_size:30
            size_hint:.2,.1
            pos_hint:{'top':.75,'center_x':.2955}
        Spinner: 
            id: spinner_id2
            on_text:root.pasear2(spinner_id2.text)
            text: "Stock"
            values: stockSP
            size_hint: None, None
            size: 180, 50
            pos_hint:{'center_x':.8, 'top': .75} 
        
        Label:
            id:P6Label3
            text:'Rango de tiempo: '
            font_size:30
            size_hint:.2,.1
            pos_hint:{'top':.6,'center_x':.24}
        
        Label:
            id:P6Desde
            text:'Desde'
            font_size:30
            size_hint:.2,.1
            pos_hint:{'top':.45,'center_x':.3}
        
        Button:
            id: ti1
            size_hint:.15,.1
            on_press: root.show_calendar1()
            pos_hint:{'top':.45,"center_x":.75}
            text:"Fecha Desde"

        Label:
            id:P6Hasta
            text:'Hasta'
            font_size:30
            size_hint:.2,.1
            pos_hint:{'top':.3,'center_x':.3}
        
        Button:
            id: ti2
            size_hint:.15,.1
            on_press: root.show_calendar2()
            pos_hint:{'top':.3,"center_x":.75}
            text:"Fecha Hasta"

        Button:
            id:P6GO
            text:'Listo'
            font_size:15
            size_hint:.09,.1
            pos_hint:{'top':.15,'center_x':.88}
            on_release:root.go()



<Pantalla07>:
    Screen:
        name:"pantalla07"
        Label:
            id: P7Texto0
            text: '     ¿Cuál indicador deseas ver?'
            font_name: 'Arial'
            font_size: 30 
            color: [1,1,1]
            background_normal: ''
            size_hint:(.25,.4)
            pos_hint: {'top':1, 'center_x':.5 }
            halign:'center'
        Button:
            id:P7B1
            size_hint:(.05,.05)
            pos_hint:{'top':.55,'center_x':.2}
            on_release:root.graficoRSI(),root.next()
        Button:
            id:P7B2
            size_hint:(.05,.05)
            pos_hint:{'top':.35,'center_x':.2}
            on_release:root.graficoSMA(),root.next()
        Button:
            id:P7B3
            size_hint:(.05,.05)
            pos_hint:{'top':.15,'center_x':.2}
            on_release:root.graficoAMBOS(),root.next()
        Label:
            id:P7M1
            text:'RSI (Relative Strength Index)'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.55,'center_x':.5}
        Label:
            id:P7M2
            text:'SMA (Simple Moving Average)'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.35,'center_x':.52}
        Label:
            id:P7M3
            text:'Ambos'
            size_hint:(.05,.05)
            font_size:30
            pos_hint:{'top':.15,'center_x':.329}

<Pantalla08>:
    Screen:
        name:"pantalla08"
        Label:
            id:P8Lab1
            text:''
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.8,'center_x':.5}
            halign:'center'
        Label:
            id:P8desea
            text:'¿Desea ver otro indicador?'
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.2,'center_x':.35}
        Button:
            id:P8Si
            text:'Sí'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.2,'center_x':.7}
            on_release:root.next1()
        Button:
            id:P8No
            text:'No'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.2,'center_x':.85}
            on_release:root.next2()


<Pantalla09>:
    Screen:
        name:"pantalla09"
        Label:
            id:P9desea
            text:'¿Desea ver algún valor registrado?'
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.6,'center_x':.35}
        Button:
            id:P9Si
            text:'Sí'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.7}
            on_release:root.next1()
        Button:
            id:P9No
            text:'No'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.85}
            on_release:root.next2()

<Pantalla10>:
    Screen:
        name:"pantalla10"
        Label:
            id:P10desea
            text:'Escoja símbolo del valor registrado:'
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.7,'center_x':.4}
        Spinner: 
            id: spinner_id3 
            # on_text:root.pasear(spinner_id3.text)
            on_release:root.pasear(spinner_id3.text)
            text: "Símbolo"
            values: spinSP
            size_hint: None, None
            size: 200, 50
            pos_hint:{'center_x':.8, 'top': .5} 
        Button:
            id:P10next
            text:'Listo'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.2,'center_x':.9}
            on_release:root.next1(),root.abrirSimbReg()

<Pantalla11>:
    Screen:
        name:"pantalla11"
        Label:
            id:P11desea
            text:'¿Desea ver otro valor registrado?'
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.6,'center_x':.35}
        Button:
            id:P11Si
            text:'Sí'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.7}
            on_release:root.next1()
        Button:
            id:P11No
            text:'No'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.85}
            on_release:root.next2()

<Pantalla12>:
    Screen:
        name:"pantalla12"
        Label:
            id:P12desea
            text:'¿Desea ver otro valor no registrado?'
            size_hint:.05,.05
            font_size:30
            pos_hint:{'top':.6,'center_x':.35}
        Button:
            id:P12Si
            text:'Sí'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.7}
            on_release:root.next1()
        Button:
            id:P12No
            text:'No'
            size_hint:.08,.08
            font_size:23
            pos_hint:{'top':.5,'center_x':.85}
            on_release:root.next2()

